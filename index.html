<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>7-Gaben-HÃ¼gel â€¢ Simulation of Charismata</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
    body { background: radial-gradient(circle at 50% 20%, #1a1a2e 0%, #000 100%); color: #e0e0e0; overflow-x:hidden; }
    #gameCanvas { border: 4px solid #eab308; border-radius: 30px; box-shadow: 0 0 80px #eab308; }
    .glow { text-shadow: 0 0 30px #eab308; }
    .modal { animation: pop 0.4s cubic-bezier(0.34,1.56,0.64,1); }
    @keyframes pop { from { transform: scale(0.6); opacity:0; } to { transform: scale(1); opacity:1; } }
</style>
</head>
<body class="min-h-screen font-sans">

<nav class="bg-black/80 border-b border-yellow-500/30 sticky top-0 z-50">
  <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <i class="fa-solid fa-staff-snake text-4xl text-yellow-400 glow"></i>
      <span class="text-3xl font-bold tracking-widest text-yellow-400">ROSARY<span class="text-white">-mom</span></span>
    </div>
    <div class="text-yellow-400/70 text-sm uppercase tracking-widest">7-Gaben-HÃ¼gel</div>
  </div>
</nav>

<header class="max-w-6xl mx-auto text-center py-16">
  <h1 class="text-6xl md:text-7xl font-bold glow mb-4">7-Gaben-HÃ¼gel</h1>
  <p class="text-xl text-yellow-200">Prozessionsweg â€¢ Salomonisches Siegel â€¢ Salisbury Hill</p>
  
  <div class="mt-10 inline-flex gap-12 bg-zinc-900/80 border border-yellow-500/30 rounded-3xl px-16 py-6">
    <div><div class="text-xs text-yellow-400/70">VELOLOOP SCORE</div><div id="score" class="text-5xl font-bold text-emerald-400">700</div></div>
    <div><div class="text-xs text-yellow-400/70">GABEN GEFUNDEN</div><div id="found" class="text-5xl font-bold text-yellow-400">0/7</div></div>
  </div>
</header>

<section class="max-w-6xl mx-auto px-6">
  <canvas id="gameCanvas" width="1200" height="800" class="mx-auto block"></canvas>
</section>

<section id="explorer" class="hidden max-w-6xl mx-auto px-6 py-20">
  <h2 class="text-4xl font-bold text-center text-yellow-400 mb-12">Entdecker-Modus â€¢ Die 7 Charismen</h2>
  <div id="grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
</section>

<section class="max-w-4xl mx-auto py-16 px-6">
  <h3 class="text-3xl font-bold text-purple-400 text-center mb-8">Hymne des Heiligen Geistes</h3>
  <iframe width="100%" height="520" scrolling="no" frameborder="no" 
    src="https://www.reverbnation.com/widget_code/html_widget/artist_41970?widget_id=55&pwc[included_songs]=1&context_type=page_object"></iframe>
</section>

<footer class="text-center py-12 text-yellow-400/50 text-sm">
  Made with Gebet &amp; Glocken â€¢ github.com/Rosary-mom/7-Gaben-Huegel
</footer>

<audio id="bell" src="https://freesound.org/data/previews/276/276951_5123854-lq.mp3"></audio>
<audio id="win" src="https://freesound.org/data/previews/270/270402_5123854-lq.mp3"></audio>

<script>
// Deine alten Daten + Positions (genau wie in der Version, die dir gefiel)
const gifts = [
  {id:"weisheit",name:"Weisheit",icon:"ðŸ•Šï¸",bonus:15,desc:"Um zur rechten Zeit das Richtige zu tun.",x:220,y:380},
  {id:"einsicht",name:"Einsicht",icon:"ðŸ“–",bonus:12,desc:"Das groÃŸe Ganze im Blick.",x:380,y:180},
  {id:"rat",name:"Rat",icon:"ðŸ—£ï¸",bonus:10,desc:"Ãœberlegte Entscheidungen.",x:600,y:120},
  {id:"staerke",name:"StÃ¤rke",icon:"ðŸ’ª",bonus:18,desc:"Herausforderungen standhalten.",x:820,y:240},
  {id:"erkenntnis",name:"Erkenntnis",icon:"ðŸ”",bonus:14,desc:"Richtig & Falsch unterscheiden.",x:920,y:460},
  {id:"froemmigkeit",name:"FrÃ¶mmigkeit",icon:"ðŸ™",bonus:11,desc:"Kontakt zu Gott halten.",x:680,y:640},
  {id:"gottesfurcht",name:"Gottesfurcht",icon:"ðŸŒŸ",bonus:20,desc:"Ehrfurcht vor der SchÃ¶pfung.",x:360,y:680}
];

let state = {score:700, found:[]};

const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

function loadState(){ const s = localStorage.getItem('huegel'); if(s) state=JSON.parse(s); updateUI(); }
function saveState(){ localStorage.setItem('huegel', JSON.stringify(state)); }

function draw(){
  ctx.fillStyle = '#0a0a1f'; ctx.fillRect(0,0,1200,800);
  // Pfad (Salomonisches Siegel)
  ctx.strokeStyle = '#ffeb3b'; ctx.lineWidth = 14; ctx.shadowBlur = 40; ctx.shadowColor = '#ffeb3b';
  ctx.beginPath();
  gifts.forEach((g,i)=> i===0 ? ctx.moveTo(g.x,g.y) : ctx.lineTo(g.x,g.y));
  ctx.closePath(); ctx.stroke();

  gifts.forEach(g => {
    const unlocked = state.found.includes(g.id);
    ctx.fillStyle = unlocked ? '#10b981' : '#eab308';
    ctx.shadowBlur = unlocked ? 60 : 25;
    ctx.shadowColor = ctx.fillStyle;
    ctx.beginPath(); ctx.arc(g.x, g.y, 48, 0, Math.PI*2); ctx.fill();
    ctx.font = 'bold 52px Arial'; ctx.fillStyle = '#fff';
    ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
    ctx.fillText(g.icon, g.x, g.y);
  });
}

function activate(id){
  if(state.found.includes(id)) return;
  const gift = gifts.find(g=>g.id===id);
  state.found.push(id);
  state.score += gift.bonus;
  saveState();
  updateUI();
  draw();

  document.getElementById('bell').play();
  if(state.found.length===7) document.getElementById('win').play();

  // Modal
  const m = document.createElement('div');
  m.className = 'fixed inset-0 bg-black/90 flex items-center justify-center z-50 modal';
  m.innerHTML = `<div class="bg-zinc-900 border-4 border-yellow-400 rounded-3xl p-12 max-w-lg text-center">
    <div class="text-9xl mb-6">${gift.icon}</div>
    <h2 class="text-5xl font-bold text-yellow-400">${gift.name}</h2>
    <p class="mt-8 text-xl">${gift.desc}</p>
    <div class="mt-10 text
